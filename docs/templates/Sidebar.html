{{ define "Sidebar" }}
<aside class="sidebar">
    <div class="sidebar-content">
        {{ $section := .FrontMatter.section }}

        <!-- Section Navigation -->
        <nav class="section-nav">
            {{ if eq $section "reference" }}
            <div class="section-nav-content">
                <h3>Reference</h3>
                <ul>
                    <li><a href="{{.Site.PathPrefix}}/reference/">Overview</a></li>
                    <li><a href="{{.Site.PathPrefix}}/reference/api/">API Reference</a></li>
                    <li><a href="{{.Site.PathPrefix}}/reference/incremental-tokenizer/">Incremental Tokenizer</a></li>
                    <li><a href="{{.Site.PathPrefix}}/reference/js-regex-syntax/">JavaScript Regex</a></li>
                    <li><a href="{{.Site.PathPrefix}}/reference/flex-syntax/">Flex Syntax</a></li>
                    <li><a href="{{.Site.PathPrefix}}/reference/rule-config/">Rule Configuration</a></li>
                    <li><a href="{{.Site.PathPrefix}}/reference/tokenizer-states/">Tokenizer States</a></li>
                </ul>
            </div>
            {{ else if eq $section "concepts" }}
            <div class="section-nav-content">
                <h3>Concepts</h3>
                <ul>
                    <li><a href="{{.Site.PathPrefix}}/concepts/">Overview</a></li>
                    <li><a href="{{.Site.PathPrefix}}/concepts/regex-ast/">Regex AST</a></li>
                    <li><a href="{{.Site.PathPrefix}}/concepts/vm-architecture/">VM Architecture</a></li>
                </ul>
            </div>
            {{ else if eq $section "examples" }}
            <div class="section-nav-content">
                <h3>Examples</h3>
                <ul>
                    <li><a href="{{.Site.PathPrefix}}/examples/">Overview</a></li>
                    <li><a href="{{.Site.PathPrefix}}/examples/json-tokenizer/">JSON Tokenizer</a></li>
                    <li><a href="{{.Site.PathPrefix}}/examples/calculator/">Calculator</a></li>
                    <li><a href="{{.Site.PathPrefix}}/examples/c-lexer/">C Lexer</a></li>
                </ul>
            </div>
            {{ else if eq $section "guides" }}
            <div class="section-nav-content">
                <h3>Guides</h3>
                <ul>
                    <li><a href="{{.Site.PathPrefix}}/guides/">Overview</a></li>
                    <li><a href="{{.Site.PathPrefix}}/guides/editor-integration/">Editor Integration</a></li>
                </ul>
            </div>
            {{ else }}
            <!-- Default navigation for homepage and other pages -->
            <div class="section-nav-content">
                <h3>Getting Started</h3>
                <ul>
                    <li><a href="{{.Site.PathPrefix}}/getting-started/">Quick Start</a></li>
                    <li><a href="{{.Site.PathPrefix}}/getting-started/installation/">Installation</a></li>
                </ul>

                <h3>Learn</h3>
                <ul>
                    <li><a href="{{.Site.PathPrefix}}/concepts/">Concepts</a></li>
                    <li><a href="{{.Site.PathPrefix}}/reference/">Reference</a></li>
                    <li><a href="{{.Site.PathPrefix}}/examples/">Examples</a></li>
                </ul>
            </div>
            {{ end }}
        </nav>
    </div>
</aside>
{{ end }}
