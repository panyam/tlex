{"version":3,"file":"PlaygroundPage.81ea1ea82e355fc7a723.js","mappings":"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","sources":["webpack://tlex/webpack/universalModuleDefinition","webpack://tlex/webpack/runtime/chunk loaded","webpack://tlex/./components/playground/EventHub.ts","webpack://tlex/./components/playground/configs.ts","webpack://tlex/./components/playground/dsl.ts","webpack://tlex/./components/playground/PlaygroundPage.ts","webpack://tlex/webpack/bootstrap","webpack://tlex/webpack/runtime/amd define","webpack://tlex/webpack/runtime/compat get default export","webpack://tlex/webpack/runtime/define property getters","webpack://tlex/webpack/runtime/global","webpack://tlex/webpack/runtime/hasOwnProperty shorthand","webpack://tlex/webpack/runtime/make namespace object","webpack://tlex/webpack/runtime/node module decorator","webpack://tlex/webpack/runtime/jsonp chunk loading","webpack://tlex/webpack/runtime/nonce","webpack://tlex/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"tlex\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"tlex\"] = factory();\n\telse\n\t\troot[\"tlex\"] = root[\"tlex\"] || {}, root[\"tlex\"][\"PlaygroundPage\"] = factory();\n})(this, () => {\nreturn ","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","/**\n * EventHub.ts - Simple event emitter for playground communication\n */\n\nexport type EventCallback = (...args: any[]) => void;\n\nexport class EventHub {\n  private listeners: Map<string, Set<EventCallback>> = new Map();\n\n  on(event: string, callback: EventCallback): void {\n    if (!this.listeners.has(event)) {\n      this.listeners.set(event, new Set());\n    }\n    this.listeners.get(event)!.add(callback);\n  }\n\n  off(event: string, callback: EventCallback): void {\n    if (this.listeners.has(event)) {\n      this.listeners.get(event)!.delete(callback);\n    }\n  }\n\n  emit(event: string, ...args: any[]): void {\n    if (this.listeners.has(event)) {\n      this.listeners.get(event)!.forEach((callback) => {\n        try {\n          callback(...args);\n        } catch (e) {\n          console.error(`Error in event handler for ${event}:`, e);\n        }\n      });\n    }\n  }\n}\n\nexport const Events = {\n  LEXER_CHANGED: \"lexerChanged\",\n  LEXER_COMPILED: \"lexerCompiled\",\n  INPUT_CHANGED: \"inputChanged\",\n  TOKENS_GENERATED: \"tokensGenerated\",\n  CONSOLE_LOG: \"consoleLog\",\n  CONSOLE_ERROR: \"consoleError\",\n};\n","/**\n * configs.ts - Built-in lexer configurations for the playground\n */\n\nexport interface BuiltinLexer {\n  name: string;\n  label: string;\n  rules: string;\n  sampleInput: string;\n  selected?: boolean;\n}\n\nexport const builtinLexers: BuiltinLexer[] = [\n  {\n    name: \"json\",\n    label: \"JSON\",\n    selected: true,\n    rules: `%token OPEN_BRACE   \"{\"\n%token CLOSE_BRACE  \"}\"\n%token OPEN_SQ      \"[\"\n%token CLOSE_SQ     \"]\"\n%token COMMA        \",\"\n%token COLON        \":\"\n%token NULL         \"null\"\n%token TRUE         \"true\"\n%token FALSE        \"false\"\n%token NUMBER /-?\\\\d+(\\\\.\\\\d+)?([eE][+-]?\\\\d+)?/\n%token STRING /\"(?:[^\"\\\\\\\\]|\\\\\\\\.)*\"/\n%skip /[ \\\\t\\\\n\\\\f\\\\r]+/`,\n    sampleInput: `{\n  \"name\": \"Milky Way\",\n  \"age\": 4600000000,\n  \"star\": \"sun\",\n  \"planets\": [\"Mercury\", \"Venus\", \"Earth\"],\n  \"hot\": true,\n  \"empty\": null\n}`,\n  },\n  {\n    name: \"c11\",\n    label: \"C11\",\n    rules: `// C11 Lexer Rules\n%token AUTO \"auto\"\n%token BREAK \"break\"\n%token CASE \"case\"\n%token CHAR \"char\"\n%token CONST \"const\"\n%token CONTINUE \"continue\"\n%token DEFAULT \"default\"\n%token DO \"do\"\n%token DOUBLE \"double\"\n%token ELSE \"else\"\n%token ENUM \"enum\"\n%token EXTERN \"extern\"\n%token FLOAT \"float\"\n%token FOR \"for\"\n%token GOTO \"goto\"\n%token IF \"if\"\n%token INT \"int\"\n%token LONG \"long\"\n%token REGISTER \"register\"\n%token RETURN \"return\"\n%token SHORT \"short\"\n%token SIGNED \"signed\"\n%token SIZEOF \"sizeof\"\n%token STATIC \"static\"\n%token STRUCT \"struct\"\n%token SWITCH \"switch\"\n%token TYPEDEF \"typedef\"\n%token UNION \"union\"\n%token UNSIGNED \"unsigned\"\n%token VOID \"void\"\n%token VOLATILE \"volatile\"\n%token WHILE \"while\"\n\n// Operators\n%token ARROW \"->\"\n%token INC \"++\"\n%token DEC \"--\"\n%token LSHIFT \"<<\"\n%token RSHIFT \">>\"\n%token LE \"<=\"\n%token GE \">=\"\n%token EQ \"==\"\n%token NE \"!=\"\n%token AND \"&&\"\n%token OR \"||\"\n%token PLUS_ASSIGN \"+=\"\n%token MINUS_ASSIGN \"-=\"\n%token STAR_ASSIGN \"*=\"\n%token DIV_ASSIGN \"/=\"\n%token MOD_ASSIGN \"%=\"\n\n// Single character operators/punctuation\n%token PLUS \"+\"\n%token MINUS \"-\"\n%token STAR \"*\"\n%token DIV \"/\"\n%token MOD \"%\"\n%token LT \"<\"\n%token GT \">\"\n%token ASSIGN \"=\"\n%token NOT \"!\"\n%token BITAND \"&\"\n%token BITOR \"|\"\n%token XOR \"^\"\n%token TILDE \"~\"\n%token QUESTION \"?\"\n%token COLON \":\"\n%token SEMI \";\"\n%token COMMA \",\"\n%token DOT \".\"\n%token LPAREN \"(\"\n%token RPAREN \")\"\n%token LBRACE \"{\"\n%token RBRACE \"}\"\n%token LBRACKET \"[\"\n%token RBRACKET \"]\"\n\n// Literals\n%token HEX_LITERAL /0[xX][0-9a-fA-F]+/\n%token OCT_LITERAL /0[0-7]+/\n%token DEC_LITERAL /[1-9][0-9]*/\n%token ZERO /0/\n%token FLOAT_LITERAL /[0-9]+\\\\.[0-9]+([eE][+-]?[0-9]+)?[fFlL]?/\n%token CHAR_LITERAL /'([^'\\\\\\\\]|\\\\\\\\.)'/\n%token STRING_LITERAL /\"([^\"\\\\\\\\]|\\\\\\\\.)*\"/\n\n// Identifier\n%token IDENTIFIER /[a-zA-Z_][a-zA-Z0-9_]*/\n\n// Skip whitespace and comments\n%skip /[ \\\\t\\\\n\\\\r]+/\n%skip /\\\\/\\\\/[^\\\\n]*/\n%skip /\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\//`,\n    sampleInput: `int main(int argc, char *argv[]) {\n    printf(\"Hello, World!\\\\n\");\n    return 0;\n}`,\n  },\n  {\n    name: \"calculator\",\n    label: \"Calculator\",\n    rules: `// Simple calculator tokenizer\n%token NUMBER /[0-9]+(\\\\.[0-9]+)?/\n%token PLUS \"+\"\n%token MINUS \"-\"\n%token STAR \"*\"\n%token SLASH \"/\"\n%token CARET \"^\"\n%token LPAREN \"(\"\n%token RPAREN \")\"\n%token IDENT /[a-zA-Z_][a-zA-Z0-9_]*/\n%skip /[ \\\\t\\\\n]+/`,\n    sampleInput: `2 + 3 * (4 - 1) ^ 2\nsin(x) + cos(y)\na * b / c`,\n  },\n];\n","/**\n * dsl.ts - DSL parser for lexer rule definitions\n * Supports %token, %skip, and %define directives\n */\n\nimport * as T from \"tlex\";\n\nconst str2regex = (s: string | number): string => {\n  if (typeof s === \"number\") return \"\" + s;\n  return s.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n};\n\nenum TokenType {\n  ARROW = \"ARROW\",\n  OPEN_PAREN = \"OPEN_PAREN\",\n  CLOSE_PAREN = \"CLOSE_PAREN\",\n  OPEN_BRACE = \"OPEN_BRACE\",\n  CLOSE_BRACE = \"CLOSE_BRACE\",\n  OPEN_SQ = \"OPEN_SQ\",\n  CLOSE_SQ = \"CLOSE_SQ\",\n  STAR = \"STAR\",\n  PLUS = \"PLUS\",\n  QMARK = \"QMARK\",\n  PIPE = \"PIPE\",\n  COLON = \"COLON\",\n  SEMI_COLON = \"SEMI_COLON\",\n  SPACES = \"SPACES\",\n  COMMENT = \"COMMENT\",\n  STRING = \"STRING\",\n  REGEX = \"REGEX\",\n  NUMBER = \"NUMBER\",\n  IDENT = \"IDENT\",\n  PCT_IDENT = \"PCT_IDENT\",\n  DOLLAR_NUM = \"DOLLAR_NUM\",\n  DOLLAR_IDENT = \"DOLLAR_IDENT\",\n}\n\ntype TokenHandler = (token: T.Token, tape: T.TapeInterface, owner: any) => T.Token;\n\nfunction InputTokenizer(): T.Tokenizer {\n  const lexer = new T.Tokenizer();\n  lexer.add(/->/, { tag: TokenType.ARROW });\n  lexer.add(/\\[/, { tag: TokenType.OPEN_SQ });\n  lexer.add(/\\]/, { tag: TokenType.CLOSE_SQ });\n  lexer.add(/\\(/, { tag: TokenType.OPEN_PAREN });\n  lexer.add(/\\)/, { tag: TokenType.CLOSE_PAREN });\n  lexer.add(/\\{/, { tag: TokenType.OPEN_BRACE });\n  lexer.add(/\\}/, { tag: TokenType.CLOSE_BRACE });\n  lexer.add(/\\*/, { tag: TokenType.STAR });\n  lexer.add(/\\+/, { tag: TokenType.PLUS });\n  lexer.add(/\\?/, { tag: TokenType.QMARK });\n  lexer.add(/;/, { tag: TokenType.SEMI_COLON });\n  lexer.add(/:/, { tag: TokenType.COLON });\n  lexer.add(/\\|/, { tag: TokenType.PIPE });\n  lexer.add(/\\s+/m, { tag: TokenType.SPACES }, () => null);\n  lexer.add(/\\/\\*.*?\\*\\//s, { tag: TokenType.COMMENT }, () => null);\n  lexer.add(/\\/\\/.*$/m, { tag: TokenType.COMMENT }, () => null);\n  lexer.add(T.Samples.DOUBLE_QUOTE_STRING, { tag: TokenType.STRING }, (rule, tape, token) => {\n    token.value = tape.substring(token.start + 1, token.end - 1);\n    return token;\n  });\n  lexer.add(T.Samples.SINGLE_QUOTE_STRING, { tag: TokenType.STRING }, (rule, tape, token) => {\n    token.value = tape.substring(token.start + 1, token.end - 1);\n    return token;\n  });\n  lexer.add(T.Samples.JS_REGEX, { tag: TokenType.REGEX }, (rule, tape, token) => {\n    const pattern = tape.substring(token.positions[1][0], token.positions[1][1]);\n    const flags = tape.substring(token.positions[3][0], token.positions[3][1]);\n    token.value = [pattern, flags];\n    return token;\n  });\n  lexer.add(/\\d+/, { tag: TokenType.NUMBER }, (rule, tape, token) => {\n    token.value = parseInt(tape.substring(token.start, token.end));\n    return token;\n  });\n  lexer.add(/%([\\w][\\w\\d_]*)/, { tag: TokenType.PCT_IDENT }, (rule, tape, token) => {\n    token.value = tape.substring(token.start + 1, token.end);\n    return token;\n  });\n  lexer.add(/\\$\\d+/, { tag: TokenType.DOLLAR_NUM }, (rule, tape, token) => {\n    token.value = parseInt(tape.substring(token.start + 1, token.end));\n    return token;\n  });\n  lexer.add(/\\$([\\w][\\w\\d_]*)/, { tag: TokenType.DOLLAR_IDENT }, (rule, tape, token) => {\n    token.value = tape.substring(token.start + 1, token.end);\n    return token;\n  });\n  lexer.add(/[\\w][\\w\\d_]*/, { tag: TokenType.IDENT });\n  return lexer;\n}\n\nexport function TokenizerFromDSL(input: string, tokenHandlers: Record<string, TokenHandler>): T.Tokenizer {\n  const tape = new T.Tape(input);\n  const et = InputTokenizer();\n  const ntFunc = (tape: T.TapeInterface) => et.next(tape, null);\n  const tokenizer = new T.TokenBuffer(ntFunc, null);\n  let regexSyntax = \"js\";\n  const generatedTokenizer = new T.Tokenizer();\n\n  function parseDirective(directive: string): string | null {\n    if (directive === \"resyntax\") {\n      const next = tokenizer.expectToken(tape, TokenType.IDENT);\n      if (next.value !== \"js\" && next.value !== \"flex\") {\n        throw new SyntaxError(\"Invalid regex syntax: \" + next.value);\n      }\n      regexSyntax = next.value;\n    } else if (directive.startsWith(\"skip\")) {\n      const rule = parseRegex(\"\", 30, directive.endsWith(\"flex\") ? \"flex\" : \"\");\n      const handler = parseTokenHandler(tape);\n      if (handler) {\n        generatedTokenizer.addRule(rule, (rule, tape, token) => {\n          handler(rule, tape, token, null);\n          return null;\n        });\n      } else {\n        generatedTokenizer.addRule(rule, () => null);\n      }\n    } else if (directive.startsWith(\"token\") || directive.startsWith(\"define\")) {\n      const isDef = directive.startsWith(\"define\");\n      const tokName = tokenizer.expectToken(tape, TokenType.IDENT, TokenType.STRING);\n      let label = tokName.value as string;\n      if (tokName.tag === TokenType.STRING || tokName.tag === TokenType.NUMBER) {\n        label = `\"${tokName.value}\"`;\n      }\n      const rule = parseRegex(label, 0, directive.endsWith(\"flex\") ? \"flex\" : \"\");\n      if (isDef) {\n        generatedTokenizer.addVar(label, rule.expr);\n      } else {\n        const handler = parseTokenHandler(tape);\n        generatedTokenizer.addRule(rule, handler);\n        return label;\n      }\n    } else {\n      throw new Error(\"Invalid directive: \" + directive);\n    }\n    return null;\n  }\n\n  function parseRegex(tag?: string, priority = 0, syntax = \"\"): T.Rule {\n    if (syntax === \"\") syntax = regexSyntax;\n    if (syntax === \"js\") {\n      const tokPattern = tokenizer.expectToken(tape, TokenType.STRING, TokenType.NUMBER, TokenType.REGEX);\n      let rule: T.Rule;\n      if (!tag || tag.length === 0) {\n        tag = \"/\" + tokPattern.value[0] + \"/\" + tokPattern.value[1];\n      }\n      if (tokPattern.tag === TokenType.STRING || tokPattern.tag === TokenType.NUMBER) {\n        const pattern = str2regex(tokPattern.value);\n        rule = T.Builder.build(pattern, { tag: tag, priority: priority + 20 });\n      } else if (tokPattern.tag === TokenType.REGEX) {\n        let re = tokPattern.value[0];\n        if (tokPattern.value[1].length > 0) {\n          re = new RegExp(tokPattern.value[0], tokPattern.value[1]);\n        }\n        rule = T.Builder.build(re, { tag: tag, priority: priority + 10 });\n      } else {\n        throw new T.UnexpectedTokenError(tokPattern);\n      }\n      return rule;\n    } else {\n      // Flex style RE\n      let patternStr = \"\";\n      while (tape.hasMore && tape.currCh !== \"\\n\") {\n        patternStr += tape.currCh;\n        tape.advance(1);\n      }\n      patternStr = patternStr.trim();\n      if (!tag || tag.length === 0) {\n        tag = \"/\" + patternStr + \"/\";\n      }\n      return new T.Rule(T.Builder.exprFromFlexRE(patternStr), { tag: tag, priority: priority });\n    }\n  }\n\n  function parseTokenHandler(tape: T.TapeInterface): T.RuleMatchHandler | null {\n    if (!tokenizer.consumeIf(tape, TokenType.OPEN_BRACE)) {\n      return null;\n    }\n    const funcName = tokenizer.expectToken(tape, TokenType.IDENT);\n    const out: T.RuleMatchHandler = (rule, tape, token, owner) => {\n      const handler = tokenHandlers[funcName.value];\n      if (!handler) throw new Error(\"Handler method not found: \" + funcName.value);\n      return handler(token, tape, owner);\n    };\n    tokenizer.expectToken(tape, TokenType.CLOSE_BRACE);\n    return out;\n  }\n\n  function parse(): void {\n    let peeked = tokenizer.peek(tape);\n    while (peeked != null) {\n      if (peeked.tag === TokenType.PCT_IDENT) {\n        tokenizer.next(tape);\n        parseDirective(peeked.value);\n      } else {\n        throw new SyntaxError(\n          `Declaration must start with %token/%token_flex, %skip or %define, Found: ${peeked.tag}`\n        );\n      }\n      peeked = tokenizer.peek(tape);\n    }\n  }\n\n  parse();\n  return generatedTokenizer;\n}\n","/**\n * PlaygroundPage.ts - Main playground with DockView layout\n */\n\nimport { DockviewComponent, DockviewApi } from \"dockview-core\";\nimport \"dockview-core/dist/styles/dockview.css\";\n\n// Import base documentation CSS from tsappkit (header, nav, etc.)\nimport \"@panyam/tsappkit/dist/docs/DocsPage.css\";\n\nimport * as T from \"tlex\";\nimport { IncrementalTokenizer } from \"tlex\";\nimport { EventHub, Events } from \"./EventHub\";\nimport { builtinLexers, BuiltinLexer } from \"./configs\";\nimport { TokenizerFromDSL } from \"./dsl\";\n\n// Import Ace editor\nimport * as ace from \"ace-builds\";\nimport \"ace-builds/src-min-noconflict/mode-text\";\nimport \"ace-builds/src-min-noconflict/theme-monokai\";\nimport \"ace-builds/src-min-noconflict/theme-github\";\n\n// Expose tlex globally\n(window as any).T = T;\n\nconst LAYOUT_STORAGE_KEY = \"tlex-playground-layout\";\n\nexport class PlaygroundPage {\n  private dockview: DockviewApi | null = null;\n  private eventHub = new EventHub();\n\n  // State\n  private currentLexer: BuiltinLexer | null = null;\n  private tokenizer: T.Tokenizer | null = null;\n  private incrementalTokenizer: IncrementalTokenizer | null = null;\n  private lastInput: string = \"\";\n  private incrementalMode: \"on-tokenize\" | \"realtime\" = \"on-tokenize\";\n  private inputChangeListener: (() => void) | null = null;\n\n  // Editors\n  private rulesEditor: ace.Ace.Editor | null = null;\n  private inputEditor: ace.Ace.Editor | null = null;\n\n  // DOM refs\n  private fullTokensContainer: HTMLElement | null = null;\n  private incrementalTokensContainer: HTMLElement | null = null;\n  private fullStatsEl: HTMLElement | null = null;\n  private incrementalStatsEl: HTMLElement | null = null;\n  private consoleOutput: HTMLElement | null = null;\n  private modeSelect: HTMLSelectElement | null = null;\n\n  constructor() {\n    this.init();\n  }\n\n  private isDarkMode(): boolean {\n    return document.documentElement.classList.contains(\"dark\");\n  }\n\n  private getEditorTheme(): string {\n    return this.isDarkMode() ? \"ace/theme/monokai\" : \"ace/theme/github\";\n  }\n\n  private init(): void {\n    const container = document.getElementById(\"dockview-container\");\n    if (!container) {\n      console.error(\"Dockview container not found\");\n      return;\n    }\n\n    // Apply theme\n    container.className = this.isDarkMode() ? \"dockview-theme-dark\" : \"dockview-theme-light\";\n\n    // Watch for theme changes\n    const observer = new MutationObserver(() => {\n      const isDark = this.isDarkMode();\n      container.className = isDark ? \"dockview-theme-dark\" : \"dockview-theme-light\";\n      this.updateEditorThemes(isDark);\n    });\n    observer.observe(document.documentElement, {\n      attributes: true,\n      attributeFilter: [\"class\"],\n    });\n\n    // Create DockView\n    const dockviewComponent = new DockviewComponent(container, {\n      createComponent: (options) => this.createComponent(options),\n    });\n\n    this.dockview = dockviewComponent.api;\n\n    // Try to restore saved layout, otherwise create default\n    if (!this.loadLayout()) {\n      this.createDefaultLayout();\n    }\n\n    // Listen for layout changes to persist them\n    this.dockview.onDidLayoutChange(() => {\n      this.saveLayout();\n    });\n\n    // Setup event listeners\n    this.setupEventListeners();\n\n    // Load initial lexer\n    this.selectLexer(builtinLexers.find((l) => l.selected) || builtinLexers[0]);\n\n    // Apply initial theme to editors\n    setTimeout(() => this.updateEditorThemes(this.isDarkMode()), 100);\n    setTimeout(() => this.updateEditorThemes(this.isDarkMode()), 500);\n  }\n\n  private updateEditorThemes(isDark: boolean): void {\n    const theme = isDark ? \"ace/theme/monokai\" : \"ace/theme/github\";\n    if (this.rulesEditor) this.rulesEditor.setTheme(theme);\n    if (this.inputEditor) this.inputEditor.setTheme(theme);\n  }\n\n  private saveLayout(): void {\n    if (!this.dockview) return;\n    try {\n      const layout = this.dockview.toJSON();\n      localStorage.setItem(LAYOUT_STORAGE_KEY, JSON.stringify(layout));\n    } catch (e) {\n      console.warn(\"Failed to save layout:\", e);\n    }\n  }\n\n  private loadLayout(): boolean {\n    if (!this.dockview) return false;\n    try {\n      const saved = localStorage.getItem(LAYOUT_STORAGE_KEY);\n      if (saved) {\n        const layout = JSON.parse(saved);\n        this.dockview.fromJSON(layout);\n        return true;\n      }\n    } catch (e) {\n      console.warn(\"Failed to load layout:\", e);\n      localStorage.removeItem(LAYOUT_STORAGE_KEY);\n    }\n    return false;\n  }\n\n  private createComponent(options: any): any {\n    switch (options.name) {\n      case \"rules\":\n        return this.createRulesPanel();\n      case \"input\":\n        return this.createInputPanel();\n      case \"tokens\":\n        return this.createTokensPanel();\n      case \"console\":\n        return this.createConsolePanel();\n      default:\n        return {\n          element: document.createElement(\"div\"),\n          init: () => {},\n        };\n    }\n  }\n\n  private createDefaultLayout(): void {\n    if (!this.dockview) return;\n\n    // Rules panel (left, 40%)\n    this.dockview.addPanel({\n      id: \"rules\",\n      component: \"rules\",\n      title: \"Lexer Rules\",\n    });\n\n    // Input panel (right-top)\n    this.dockview.addPanel({\n      id: \"input\",\n      component: \"input\",\n      title: \"Input\",\n      position: { direction: \"right\", referencePanel: \"rules\" },\n    });\n\n    // Tokens panel (right-bottom)\n    this.dockview.addPanel({\n      id: \"tokens\",\n      component: \"tokens\",\n      title: \"Tokens\",\n      position: { direction: \"below\", referencePanel: \"input\" },\n    });\n\n    // Console panel (bottom of tokens)\n    this.dockview.addPanel({\n      id: \"console\",\n      component: \"console\",\n      title: \"Console\",\n      position: { direction: \"below\", referencePanel: \"tokens\" },\n    });\n  }\n\n  private createRulesPanel(): any {\n    const template = document.getElementById(\"rules-panel-template\");\n    const element = template?.cloneNode(true) as HTMLElement;\n    element.style.display = \"flex\";\n    element.style.flexDirection = \"column\";\n    element.style.height = \"100%\";\n\n    return {\n      element,\n      init: (params: any) => {\n        // Setup lexer select\n        const lexerSelect = element.querySelector(\"#lexer-select\") as HTMLSelectElement;\n        if (lexerSelect) {\n          lexerSelect.innerHTML = builtinLexers\n            .map((l) => `<option value=\"${l.name}\" ${l.selected ? \"selected\" : \"\"}>${l.label}</option>`)\n            .join(\"\");\n          lexerSelect.addEventListener(\"change\", () => {\n            const lexer = builtinLexers.find((l) => l.name === lexerSelect.value);\n            if (lexer) this.selectLexer(lexer);\n          });\n        }\n\n        // Setup compile button\n        const compileBtn = element.querySelector(\"#compile-btn\");\n        compileBtn?.addEventListener(\"click\", () => this.compile());\n\n        // Setup Ace editor\n        const editorContainer = element.querySelector(\"#rules-editor\") as HTMLElement;\n        if (editorContainer) {\n          editorContainer.style.flex = \"1\";\n          editorContainer.style.minHeight = \"0\";\n          this.rulesEditor = ace.edit(editorContainer);\n          this.rulesEditor.setTheme(this.getEditorTheme());\n          this.rulesEditor.session.setMode(\"ace/mode/text\");\n          this.rulesEditor.setShowPrintMargin(false);\n          this.rulesEditor.setFontSize(14);\n        }\n      },\n    };\n  }\n\n  private createInputPanel(): any {\n    const template = document.getElementById(\"input-panel-template\");\n    const element = template?.cloneNode(true) as HTMLElement;\n    element.style.display = \"flex\";\n    element.style.flexDirection = \"column\";\n    element.style.height = \"100%\";\n\n    return {\n      element,\n      init: (params: any) => {\n        // Setup tokenize button\n        const tokenizeBtn = element.querySelector(\"#tokenize-btn\");\n        tokenizeBtn?.addEventListener(\"click\", () => this.tokenize());\n\n        // Setup incremental mode selector\n        this.modeSelect = element.querySelector(\"#incremental-mode-select\") as HTMLSelectElement;\n        if (this.modeSelect) {\n          this.modeSelect.value = this.incrementalMode;\n          this.modeSelect.addEventListener(\"change\", () => {\n            this.setIncrementalMode(this.modeSelect!.value as \"on-tokenize\" | \"realtime\");\n          });\n        }\n\n        // Setup Ace editor\n        const editorContainer = element.querySelector(\"#input-editor\") as HTMLElement;\n        if (editorContainer) {\n          editorContainer.style.flex = \"1\";\n          editorContainer.style.minHeight = \"0\";\n          this.inputEditor = ace.edit(editorContainer);\n          this.inputEditor.setTheme(this.getEditorTheme());\n          this.inputEditor.session.setMode(\"ace/mode/text\");\n          this.inputEditor.setShowPrintMargin(false);\n          this.inputEditor.setFontSize(14);\n\n          // Setup real-time change listener (will be enabled based on mode)\n          this.setupInputChangeListener();\n        }\n      },\n    };\n  }\n\n  private setIncrementalMode(mode: \"on-tokenize\" | \"realtime\"): void {\n    this.incrementalMode = mode;\n    this.log(`Incremental mode: ${mode === \"realtime\" ? \"Real-time (as you type)\" : \"On Tokenize Click\"}`, \"info\");\n\n    // If switching to realtime mode, trigger immediate tokenization\n    if (mode === \"realtime\" && this.tokenizer) {\n      this.tokenize();\n    }\n  }\n\n  private setupInputChangeListener(): void {\n    if (!this.inputEditor) return;\n\n    // Create debounced handler for realtime mode\n    let debounceTimer: ReturnType<typeof setTimeout> | null = null;\n\n    this.inputChangeListener = () => {\n      if (this.incrementalMode !== \"realtime\") return;\n\n      // Debounce to avoid too many tokenizations during fast typing\n      if (debounceTimer) clearTimeout(debounceTimer);\n      debounceTimer = setTimeout(() => {\n        this.tokenize();\n      }, 50); // 50ms debounce for responsive feel\n    };\n\n    this.inputEditor.session.on(\"change\", this.inputChangeListener);\n  }\n\n  private createTokensPanel(): any {\n    const template = document.getElementById(\"tokens-panel-template\");\n    const element = template?.cloneNode(true) as HTMLElement;\n    element.style.display = \"flex\";\n    element.style.flexDirection = \"column\";\n    element.style.height = \"100%\";\n\n    return {\n      element,\n      init: (params: any) => {\n        this.fullTokensContainer = element.querySelector(\"#full-tokens-container\");\n        this.incrementalTokensContainer = element.querySelector(\"#incremental-tokens-container\");\n        this.fullStatsEl = element.querySelector(\"#full-stats\");\n        this.incrementalStatsEl = element.querySelector(\"#incremental-stats\");\n\n        // Setup clear button\n        const clearBtn = element.querySelector(\"#clear-tokens-btn\");\n        clearBtn?.addEventListener(\"click\", () => {\n          if (this.fullTokensContainer) this.fullTokensContainer.innerHTML = \"\";\n          if (this.incrementalTokensContainer) this.incrementalTokensContainer.innerHTML = \"\";\n          if (this.fullStatsEl) {\n            this.fullStatsEl.textContent = \"0 tokens\";\n            this.fullStatsEl.className = \"tokens-column-stats\";\n          }\n          if (this.incrementalStatsEl) {\n            this.incrementalStatsEl.textContent = \"0 tokens\";\n            this.incrementalStatsEl.className = \"tokens-column-stats\";\n          }\n        });\n      },\n    };\n  }\n\n  private createConsolePanel(): any {\n    const template = document.getElementById(\"console-panel-template\");\n    const element = template?.cloneNode(true) as HTMLElement;\n    element.style.display = \"flex\";\n    element.style.flexDirection = \"column\";\n    element.style.height = \"100%\";\n\n    return {\n      element,\n      init: (params: any) => {\n        this.consoleOutput = element.querySelector(\"#console-output\");\n\n        // Setup clear button\n        const clearBtn = element.querySelector(\"#clear-console-btn\");\n        clearBtn?.addEventListener(\"click\", () => {\n          if (this.consoleOutput) this.consoleOutput.innerHTML = \"\";\n        });\n\n        // Listen for console events\n        this.eventHub.on(Events.CONSOLE_LOG, (message: string) => {\n          this.log(message, \"info\");\n        });\n        this.eventHub.on(Events.CONSOLE_ERROR, (message: string) => {\n          this.log(message, \"error\");\n        });\n      },\n    };\n  }\n\n  private setupEventListeners(): void {\n    // Add keyboard shortcut for compile (Ctrl/Cmd + Enter)\n    document.addEventListener(\"keydown\", (e) => {\n      if ((e.ctrlKey || e.metaKey) && e.key === \"Enter\") {\n        e.preventDefault();\n        this.compile();\n        this.tokenize();\n      }\n    });\n  }\n\n  private selectLexer(lexer: BuiltinLexer): void {\n    this.currentLexer = lexer;\n    if (this.rulesEditor) {\n      this.rulesEditor.setValue(lexer.rules.trim(), -1);\n    }\n    if (this.inputEditor) {\n      this.inputEditor.setValue(lexer.sampleInput.trim(), -1);\n    }\n    this.eventHub.emit(Events.LEXER_CHANGED, lexer);\n\n    // Auto-compile on selection\n    this.compile();\n    this.tokenize();\n  }\n\n  private compile(): void {\n    if (!this.rulesEditor) return;\n\n    const rules = this.rulesEditor.getValue();\n    const startTime = performance.now();\n\n    try {\n      // Create fresh tokenizers for both full and incremental\n      this.tokenizer = TokenizerFromDSL(rules, {});\n      const incrementalBaseTokenizer = TokenizerFromDSL(rules, {});\n      this.incrementalTokenizer = new IncrementalTokenizer(incrementalBaseTokenizer);\n      this.lastInput = \"\"; // Reset for fresh incremental tokenization\n\n      const elapsed = (performance.now() - startTime).toFixed(2);\n      this.log(`Compiled 2 tokenizers in ${elapsed}ms`, \"info\");\n      this.eventHub.emit(Events.LEXER_COMPILED, this.tokenizer);\n    } catch (e: any) {\n      this.log(`Compile error: ${e.message}`, \"error\");\n      console.error(\"Compile error:\", e);\n    }\n  }\n\n  private tokenize(): void {\n    if (!this.tokenizer || !this.inputEditor) return;\n\n    const input = this.inputEditor.getValue();\n\n    // Run full tokenizer\n    let fullTokens: T.Token[] = [];\n    let fullElapsed = 0;\n    try {\n      const fullStartTime = performance.now();\n      const tape = new T.Tape(input);\n      this.tokenizer.reset();\n      fullTokens = this.tokenizer.tokenize(tape);\n      fullElapsed = performance.now() - fullStartTime;\n    } catch (e: any) {\n      this.log(`Full tokenize error: ${e.message}`, \"error\");\n      console.error(\"Full tokenize error:\", e);\n    }\n\n    // Run incremental tokenizer\n    let incrementalTokens: T.Token[] = [];\n    let incrementalElapsed = 0;\n    if (this.incrementalTokenizer) {\n      try {\n        const incStartTime = performance.now();\n\n        if (this.lastInput === \"\") {\n          // First time - do full tokenization\n          incrementalTokens = this.incrementalTokenizer.tokenize(input);\n        } else {\n          // Compute a simple edit (treat as full replacement for now)\n          // A more sophisticated version would compute the actual diff\n          const edit = this.computeEdit(this.lastInput, input);\n          if (edit) {\n            incrementalTokens = this.incrementalTokenizer.update(input, edit);\n          } else {\n            // No change\n            incrementalTokens = this.incrementalTokenizer.getTokens();\n          }\n        }\n        incrementalElapsed = performance.now() - incStartTime;\n        this.lastInput = input;\n      } catch (e: any) {\n        this.log(`Incremental tokenize error: ${e.message}`, \"error\");\n        console.error(\"Incremental tokenize error:\", e);\n      }\n    }\n\n    // Display results\n    this.displayTokensComparison(fullTokens, fullElapsed, incrementalTokens, incrementalElapsed);\n  }\n\n  /**\n   * Compute a simple edit from oldInput to newInput.\n   * Returns null if inputs are identical.\n   */\n  private computeEdit(oldInput: string, newInput: string): T.EditRange | null {\n    if (oldInput === newInput) return null;\n\n    // Find common prefix\n    let prefixLen = 0;\n    const minLen = Math.min(oldInput.length, newInput.length);\n    while (prefixLen < minLen && oldInput[prefixLen] === newInput[prefixLen]) {\n      prefixLen++;\n    }\n\n    // Find common suffix (from the end, not overlapping with prefix)\n    let suffixLen = 0;\n    while (\n      suffixLen < minLen - prefixLen &&\n      oldInput[oldInput.length - 1 - suffixLen] === newInput[newInput.length - 1 - suffixLen]\n    ) {\n      suffixLen++;\n    }\n\n    return {\n      start: prefixLen,\n      end: oldInput.length - suffixLen,\n      newText: newInput.slice(prefixLen, newInput.length - suffixLen),\n    };\n  }\n\n  private displayTokensComparison(\n    fullTokens: T.Token[],\n    fullElapsed: number,\n    incrementalTokens: T.Token[],\n    incrementalElapsed: number\n  ): void {\n    // Check if results match\n    const tokensMatch = this.tokensEqual(fullTokens, incrementalTokens);\n\n    // Display full tokenizer results\n    if (this.fullTokensContainer) {\n      this.fullTokensContainer.innerHTML = this.renderTokenRows(fullTokens);\n    }\n    if (this.fullStatsEl) {\n      this.fullStatsEl.textContent = `${fullTokens.length} tokens in ${fullElapsed.toFixed(2)}ms`;\n      this.fullStatsEl.className = \"tokens-column-stats\" + (tokensMatch ? \" match\" : \" mismatch\");\n    }\n\n    // Display incremental tokenizer results\n    if (this.incrementalTokensContainer) {\n      this.incrementalTokensContainer.innerHTML = this.renderTokenRows(incrementalTokens);\n    }\n    if (this.incrementalStatsEl) {\n      this.incrementalStatsEl.textContent = `${incrementalTokens.length} tokens in ${incrementalElapsed.toFixed(2)}ms`;\n      this.incrementalStatsEl.className = \"tokens-column-stats\" + (tokensMatch ? \" match\" : \" mismatch\");\n    }\n\n    // Log comparison\n    const matchStatus = tokensMatch ? \" Match\" : \" Mismatch\";\n    const speedup = fullElapsed > 0 ? (fullElapsed / Math.max(incrementalElapsed, 0.01)).toFixed(1) : \"N/A\";\n    this.log(\n      `${matchStatus} | Full: ${fullTokens.length} tokens in ${fullElapsed.toFixed(2)}ms | ` +\n        `Incremental: ${incrementalTokens.length} tokens in ${incrementalElapsed.toFixed(2)}ms | ` +\n        `Speedup: ${speedup}x`,\n      tokensMatch ? \"info\" : \"error\"\n    );\n  }\n\n  private renderTokenRows(tokens: T.Token[]): string {\n    return tokens\n      .map(\n        (t, i) => `\n        <div class=\"token-row\">\n          <span class=\"token-index\">${i}</span>\n          <span class=\"token-range\">${t.start}-${t.end}</span>\n          <span class=\"token-tag\">${t.tag}</span>\n          <span class=\"token-value\">${this.escapeHtml(String(t.value))}</span>\n        </div>\n      `\n      )\n      .join(\"\");\n  }\n\n  private tokensEqual(a: T.Token[], b: T.Token[]): boolean {\n    if (a.length !== b.length) return false;\n    for (let i = 0; i < a.length; i++) {\n      if (\n        a[i].tag !== b[i].tag ||\n        a[i].start !== b[i].start ||\n        a[i].end !== b[i].end ||\n        a[i].value !== b[i].value\n      ) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  private escapeHtml(text: string): string {\n    const div = document.createElement(\"div\");\n    div.textContent = text;\n    return div.innerHTML;\n  }\n\n  private log(message: string, level: \"info\" | \"error\" = \"info\"): void {\n    if (!this.consoleOutput) return;\n\n    const line = document.createElement(\"div\");\n    line.className = `console-line console-${level}`;\n    line.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;\n    this.consoleOutput.appendChild(line);\n    this.consoleOutput.scrollTop = this.consoleOutput.scrollHeight;\n  }\n}\n\n// Initialize on DOM ready\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  // Only init if we're on the playground page\n  if (document.getElementById(\"playground-container\")) {\n    (window as any).playgroundPage = new PlaygroundPage();\n  }\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdD = function () {\n\tthrow new Error('define cannot be used indirect');\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t509: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = this[\"webpackChunktlex\"] = this[\"webpackChunktlex\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [59,789,513,588], () => (__webpack_require__(6756)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["root","factory","exports","module","define","amd","this","deferred","EventHub","listeners","Map","on","event","callback","has","set","Set","get","add","off","delete","emit","args","forEach","e","console","error","builtinLexers","name","label","selected","rules","sampleInput","TokenType","TokenizerFromDSL","input","tokenHandlers","tape","et","lexer","tag","ARROW","OPEN_SQ","CLOSE_SQ","OPEN_PAREN","CLOSE_PAREN","OPEN_BRACE","CLOSE_BRACE","STAR","PLUS","QMARK","SEMI_COLON","COLON","PIPE","SPACES","COMMENT","STRING","rule","token","value","substring","start","end","REGEX","pattern","positions","flags","NUMBER","parseInt","PCT_IDENT","DOLLAR_NUM","DOLLAR_IDENT","IDENT","InputTokenizer","tokenizer","next","regexSyntax","generatedTokenizer","parseDirective","directive","expectToken","SyntaxError","startsWith","parseRegex","endsWith","handler","parseTokenHandler","addRule","Error","isDef","tokName","addVar","expr","priority","syntax","tokPattern","length","s","replace","re","RegExp","patternStr","hasMore","currCh","advance","trim","consumeIf","funcName","owner","peeked","peek","parse","window","T","LAYOUT_STORAGE_KEY","PlaygroundPage","constructor","dockview","eventHub","currentLexer","incrementalTokenizer","lastInput","incrementalMode","inputChangeListener","rulesEditor","inputEditor","fullTokensContainer","incrementalTokensContainer","fullStatsEl","incrementalStatsEl","consoleOutput","modeSelect","init","isDarkMode","document","documentElement","classList","contains","getEditorTheme","container","getElementById","className","MutationObserver","isDark","updateEditorThemes","observe","attributes","attributeFilter","dockviewComponent","createComponent","options","api","loadLayout","createDefaultLayout","onDidLayoutChange","saveLayout","setupEventListeners","selectLexer","find","l","setTimeout","theme","setTheme","layout","toJSON","localStorage","setItem","JSON","stringify","warn","saved","getItem","fromJSON","removeItem","createRulesPanel","createInputPanel","createTokensPanel","createConsolePanel","element","createElement","addPanel","id","component","title","position","direction","referencePanel","template","cloneNode","style","display","flexDirection","height","params","lexerSelect","querySelector","innerHTML","map","join","addEventListener","compileBtn","compile","editorContainer","flex","minHeight","ace","edit","session","setMode","setShowPrintMargin","setFontSize","tokenizeBtn","tokenize","setIncrementalMode","setupInputChangeListener","mode","log","debounceTimer","clearTimeout","clearBtn","textContent","message","ctrlKey","metaKey","key","preventDefault","setValue","getValue","startTime","performance","now","incrementalBaseTokenizer","IncrementalTokenizer","elapsed","toFixed","fullTokens","fullElapsed","fullStartTime","reset","incrementalTokens","incrementalElapsed","incStartTime","computeEdit","update","getTokens","displayTokensComparison","oldInput","newInput","prefixLen","minLen","Math","min","suffixLen","newText","slice","tokensMatch","tokensEqual","renderTokenRows","matchStatus","speedup","max","tokens","t","i","escapeHtml","String","a","b","text","div","level","line","Date","toLocaleTimeString","appendChild","scrollTop","scrollHeight","playgroundPage","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","loaded","__webpack_modules__","m","amdD","O","result","chunkIds","fn","notFulfilled","Infinity","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","bind","push","nc","__webpack_exports__"],"ignoreList":[],"sourceRoot":""}